{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","lenaViews/NewProductCard/NewProductCard.jsx"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","NewProductCard","props","product","data","useState","img64","setImg64","openGallery","useLightgallery","useEffect","id","category","callback","console","log","isTest","api","then","photos","setPhotos","className","onClick","src","alt","name","description","showPrice","price","isToBuy","type","title","toBasket","icon","faCartPlus","isToRemove","toRemove"],"mappings":"qIAAA,6CAEA,SAASA,EAAQC,EAAQC,GACvB,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GACvCC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAEtDP,EAAKQ,KAAKC,MAAMT,EAAMG,GAGxB,OAAOH,EAGM,SAASU,EAAeC,GACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAE/CA,EAAI,EACNf,EAAQI,OAAOc,IAAS,GAAMC,SAAQ,SAAUC,GAC9C,YAAeN,EAAQM,EAAKF,EAAOE,OAE5BhB,OAAOiB,0BAChBjB,OAAOkB,iBAAiBR,EAAQV,OAAOiB,0BAA0BH,IAEjElB,EAAQI,OAAOc,IAASC,SAAQ,SAAUC,GACxChB,OAAOmB,eAAeT,EAAQM,EAAKhB,OAAOK,yBAAyBS,EAAQE,OAKjF,OAAON,I,gLCvBM,SAASU,EAAeC,GACnC,IAAMC,EAAUD,EAAME,KACtB,EAA0BC,mBAAS,IAAG,mBAA/BC,EAAK,KAAEC,EAAQ,KAEdC,EAAgBC,4BAAhBD,YAwBV,OAtBAE,qBAAU,WACR,GAAGP,GAAYA,EAAQQ,IAAMR,EAAQS,SAAS,CAC1C,IAAMC,EAAW,SAACT,GACXA,GAAQA,EAAKE,OACZC,EAASH,EAAKE,QAGtBQ,QAAQC,IAAIb,EAAMc,QACfd,EAAMc,OACLC,MAAgBC,KAAKL,GAErBI,IAAUd,EAAQQ,GAAIR,EAAQS,UAAUM,KAAKL,MAGpD,CAACV,IAEJO,qBAAU,WACLJ,IAAUJ,EAAMiB,OAAOhB,EAAQQ,KAC9BT,EAAMkB,UAAU,2BAAIlB,EAAMiB,QAAM,kBAAGhB,EAAQQ,GAAK,CAAC,0BAAD,OAA2BL,SAE9E,CAACA,IAGF,oCACI,yBAAKe,UAAW,YACZ,yBAAKA,UAAW,iBACZ,yBAAKA,UAAU,oBAAoBC,QAAS,WACRhB,GAASE,EAAYL,EAAQQ,MACjE,yBAAKY,IAAG,iCAA4BjB,GAASe,UAAU,oBAAoBG,IAAI,QAC/E,yBAAKH,UAAU,sBACX,kBAAC,IAAe,CAACA,UAAU,eAG/B,yBAAKA,UAAW,iCACZ,4BAAMlB,EAAUA,EAAQsB,KAAO,IAC/B,2BAAKtB,EAAUA,EAAQuB,YAAc,KAExCxB,EAAMyB,UACH,yBAAKN,UAAW,WACZ,4BAAKlB,EAAUA,EAAQyB,MAAQ,GAAK,UACnC1B,EAAM2B,QACH,4BACIC,KAAK,SACLT,UAAU,8DACVU,MAAM,cACNT,QAAS,kBAAIpB,EAAM8B,SAAW9B,EAAM8B,SAAS7B,GAAW,eAExD,kBAAC,IAAe,CAAC8B,KAAMC,OAG3BhC,EAAMiC,WACF,4BACAL,KAAK,SACLT,UAAU,8DACVU,MAAM,cACNT,QAAS,kBAAIpB,EAAMkC,SAAWlC,EAAMkC,SAASjC,GAAW,eAExD,kBAAC,IAAoB,OAEpB,sCAIb,yBAAKkB,UAAU,mB","file":"static/js/16.b0b42799.chunk.js","sourcesContent":["import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import './NewProductCard.css';\r\nimport React, {useEffect, useState} from 'react';\r\nimport * as api from \"../../lenaHelpers/APIRequests.js\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCartPlus } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { MdOutlineZoomIn, MdRemoveShoppingCart } from 'react-icons/md';\r\nimport {\r\n    useLightgallery,\r\n  } from \"react-lightgallery\"\r\n\r\nexport default function NewProductCard(props) {\r\n    const product = props.data;\r\n    const [img64, setImg64] = useState('');\r\n\r\n    const { openGallery } = useLightgallery();\r\n\r\n  useEffect(()=>{\r\n    if(product &&  product.id && product.category){\r\n        const callback = (data) => {\r\n            if(data && data.img64){\r\n                setImg64(data.img64);\r\n            }\r\n        }\r\n        console.log(props.isTest);\r\n        if(props.isTest){\r\n            api.testPhoto().then(callback);\r\n        }else{\r\n            api.photo(product.id, product.category).then(callback);\r\n        }\r\n    }\r\n  }, [product]);\r\n\r\n  useEffect(()=>{\r\n    if(img64 && !props.photos[product.id]){\r\n        props.setPhotos({...props.photos, [product.id]: [`data:image/jpeg;base64,${img64}`]});\r\n    }\r\n  }, [img64]);\r\n\r\n  return (\r\n    <>\r\n        <div className={'card-npc'}>\r\n            <div className={'container-npc'}>\r\n                <div className=\"container-img-npc\" onClick={()=>{\r\n                                                    img64 && openGallery(product.id)}}>\r\n                <img src={`data:image/jpeg;base64,${img64}`} className=\"img-fluid img-npc\" alt=\"...\" />\r\n                <div className=\"zoom-container-npc\">\r\n                    <MdOutlineZoomIn className=\"zoom-npc\"/>\r\n                </div>\r\n                </div>\r\n                <div className={'description-name-npc item-npc'}>\r\n                    <h4>{ product ? product.name : '' }</h4>\r\n                    <p>{ product ? product.description : '' }</p> \r\n                </div>\r\n                {props.showPrice ? (\r\n                    <div className={'buy-npc'}>\r\n                        <p>{(product ? product.price : 0) + 'â‚¬'}</p>\r\n                        {props.isToBuy ? (\r\n                            <button\r\n                                type=\"button\"\r\n                                className=\"btn btn-sm btn-primary product-view-buy-button-npc item-npc\"\r\n                                title=\"Add to cart\"\r\n                                onClick={()=>props.toBasket ? props.toBasket(product) : ()=>{}}\r\n                                >\r\n                                <FontAwesomeIcon icon={faCartPlus} />\r\n                            </button>\r\n                        ): (\r\n                            props.isToRemove ? (\r\n                                <button\r\n                                type=\"button\"\r\n                                className=\"btn btn-sm btn-primary product-view-buy-button-npc item-npc\"\r\n                                title=\"Add to cart\"\r\n                                onClick={()=>props.toRemove ? props.toRemove(product) : ()=>{}}\r\n                                >\r\n                                <MdRemoveShoppingCart />\r\n                            </button>\r\n                            ) : (<></>)\r\n                        )}\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"empty-npc\">\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n        \r\n    </>\r\n  )\r\n}"],"sourceRoot":""}