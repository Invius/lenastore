(this["webpackJsonpe-commerce-template"]=this["webpackJsonpe-commerce-template"]||[]).push([[12],{201:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return g}));var n=a(5),r=a(208),c=(a(234),a(213),a(1)),l=a.n(c),o=a(27),s=a(20),i=a(4),m=a(210),u=a(214),d=a(209),b=Object(c.lazy)((function(){return a.e(5).then(a.bind(null,219))})),p=Object(c.lazy)((function(){return Promise.all([a.e(0),a.e(2),a.e(6)]).then(a.bind(null,211))}));function g(e){var t=Object(d.a)(u.useMediaQuery,"md"),a=Object(i.m)(),g=[[{name:"Sim",callback:function(){e.setIsLoading(!0),o.e(N,q,L,M.map((function(e){return{id:e.id,category:e.category}})),!0).then((function(t){console.log(t),t.success&&(s.b(),s.g(t.id,t.total),a("/PlacedOrder")),e.setIsLoading(!1)})).catch((function(t){console.log(t),e.setIsLoading(!1)}))}},{name:"N\xe3o",callback:function(){G(Object(r.a)(Object(r.a)({},Q),{},{isVisible:!1}))}}],[{name:"Ok",callback:function(){G(Object(r.a)(Object(r.a)({},Q),{},{isVisible:!1}))}}]],f=Object(c.useState)({}),h=Object(n.a)(f,2),v=h[0],O=h[1],E=Object(c.useState)("list"),j=Object(n.a)(E,1)[0],y=Object(c.useState)(""),w=Object(n.a)(y,2),N=w[0],P=w[1],k=Object(c.useState)(""),x=Object(n.a)(k,2),q=x[0],F=x[1],S=Object(c.useState)(""),A=Object(n.a)(S,2),L=A[0],I=A[1],T=Object(c.useState)(0),C=Object(n.a)(T,2),z=C[0],R=C[1],V=Object(c.useState)([]),D=Object(n.a)(V,2),M=D[0],W=D[1],J=Object(c.useState)({title:"Aviso",message:"Team a certeza que quer avan\xe7ar com a compra?",actions:g[0],isWarning:!1,isVisible:!1}),B=Object(n.a)(J,2),Q=B[0],G=B[1];Object(c.useEffect)((function(){H()}),[]);var H=function(){e.setIsLoading(!0);var t=s.c();W(t),o.e("*","*","*",t.map((function(e){return{id:e.id,category:e.category}})),!1).then((function(t){if(t&&t.total>-1&&(console.log(t),R(t.total)),t&&t.productsToRemove&&t.productsToRemove.length){t.productsToRemove.forEach((function(e){s.h(e)}));var a=s.c();W(a)}e.setIsLoading(!1)})).catch((function(t){console.log(t),e.setIsLoading(!1)}))},K=function(e){var t=Object(i.m)();return l.a.createElement("button",{type:"button",className:"btn btn-sm btn-primary base-button-color",title:"navigate",onClick:function(){t(e.route)}},e.text)},U=function(e){s.h(e),H()};return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.LightgalleryProvider,null,l.a.createElement("div",{className:"p-5 bg-primary bs-cover",style:{backgroundImage:"url(../../images/LenaTestProducts/banner.png)"}},l.a.createElement("div",{className:"container text-center header-bv"},t?l.a.createElement(l.a.Fragment,null):l.a.createElement(K,{text:"Acompanhar Encomenda",route:"/FollowPurchase"}),l.a.createElement("span",{className:"display-5 px-3 bg-white rounded shadow"},"Carrinho"),l.a.createElement("div",{className:"actions-md-bv"},t?l.a.createElement(K,{text:"Acompanhar Encomenda",route:"/FollowPurchase"}):l.a.createElement(l.a.Fragment,null),l.a.createElement(K,{text:"Productos",route:"/Products"})))),l.a.createElement("div",{className:"container-fluid mb-3"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{id:"name",name:"name",type:"text",className:"form-control adress-basket",placeholder:"Nome completo",required:!0,value:N,onChange:function(e){return P(e.target.value)}}),l.a.createElement("input",{id:"phone",name:"phone",type:"number",className:"form-control adress-basket",placeholder:"N\xfamero de telefone associado ao MBWay",required:!0,value:q,onChange:function(e){return F(e.target.value)}}),l.a.createElement("input",{id:"adress",name:"adress",type:"text",className:"form-control adress-basket",placeholder:"Morada",required:!0,value:L,onChange:function(e){return I(e.target.value)}})),l.a.createElement("div",{className:"col-md-6 purchase-actions-bv"},l.a.createElement("span",{className:"display-5 px-3 bg-white rounded shadow basket-total-bv"},"total",l.a.createElement("br",null),null!==z&&void 0!==z?z:0," \u20ac"),l.a.createElement("button",{type:"button",className:"btn btn-lg btn-primary mr-2 col-sm basket-button-bv",title:"Products",onClick:function(){var e=""!==N.replaceAll(" ","")&&N.replaceAll(" ","").length>10,t=""!==q.replaceAll(" ","")&&9===q.replaceAll(" ","").length,a=""!==L.replaceAll(" ","")&&L.replaceAll(" ","").length>10;G(a&&e&&t?Object(r.a)(Object(r.a)({},Q),{},{message:"Tem a certeza que quer avan\xe7ar com o pedido?",isVisible:!0,isWarning:!1,actions:g[0]}):Object(r.a)(Object(r.a)({},Q),{},{message:l.a.createElement(l.a.Fragment,null," Faltam preencher: ",l.a.createElement("br",null),e?"":l.a.createElement(l.a.Fragment,null," Nome com mais de 10 letras",l.a.createElement("br",null)),t?"":l.a.createElement(l.a.Fragment,null," N\xfamero de telefone com 9 digitos",l.a.createElement("br",null)),a?"":l.a.createElement(l.a.Fragment,null,"Morada com mais de 10 letras")),isVisible:!0,isWarning:!0,actions:g[1]}))}},"Fazer Pedido"))),l.a.createElement("div",{className:"row row-space-bv"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("hr",null),l.a.createElement("div",{className:"row g-3 basket-overload-bv"},"list"===j&&M.map((function(e,t){return l.a.createElement("div",{key:t,className:"col-md-12 row-bv"},l.a.createElement(p,{data:e,showPrice:!0,isToRemove:!0,toRemove:U,photos:v,setPhotos:O}))}))),l.a.createElement("hr",null)))),l.a.createElement(b,Q),l.a.createElement("div",{hidden:!0},Object.keys(v).map((function(e,t){return v[e].map((function(a,n){return l.a.createElement(m.LightgalleryItem,{key:t,group:e,src:a},l.a.createElement("img",{src:a,style:{width:"100%"},alt:""}))}))})))))}},208:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(7);function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},209:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e,t){var a=e({query:"(min-width: 1824px)"}),n=e({query:"(max-width: 1224px)"}),r=e({query:"(max-width: 766px)"}),c=e({query:"(max-width: 450px)"}),l=e({query:"(max-width: 360px)"});switch(t){case"xl":return a;case"lg":return n;case"md":return r;case"smd":return c;case"sm":return l;default:return!1}}},234:function(e,t,a){}}]);
//# sourceMappingURL=12.cc8a0b8b.chunk.js.map